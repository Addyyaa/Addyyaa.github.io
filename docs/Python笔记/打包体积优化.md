# python打包体积优化

## 方案一

使用虚拟环境，使用干净的环境，仅安装所需库的依赖文件使用`pyinstaller`打包，并使用`upx`工具压缩`exe`

```powershell
python -m venv venv
./venv/Script/activate
pyninstaller --onefile xxx.py
upx --best --lzma xxx.exe
```



## 方案二

使用`nuitka`工具`pip install nuitka` 前提电脑需要安装`visual studio 2022`

```cmd
python -m nuitka version_publisher.py ^
  --onefile ^
  --standalone ^
  --msvc=latest ^
  --lto=yes ^
  --remove-output ^
  --enable-plugin=upx
```



## 方案三

手动排除不需要用到的库，使用`--exclude`参数排除